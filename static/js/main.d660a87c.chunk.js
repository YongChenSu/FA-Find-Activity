(this["webpackJsonpfa-app"]=this["webpackJsonpfa-app"]||[]).push([[2],{16:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){localStorage.setItem("token",e)},a=function(){return localStorage.getItem("token")}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.createContext)(null)},33:function(e,t,n){"use strict";t.a={main:{$colorWhite:"#f8f8f8",$colorRed:"#e6756B",$colorLightGreen:"#c4c88f",$colorGreen:"#8b8974",$colorLightOrange:"#fae1d2",$colorYellow:"#F9d893",$colorGrey:"#777",$colorLightGrey:"#aaa",$borderRadius:"0.5rem",$fontFamily:"'Varela Round', 'cwTeXYen'",weatherCardBackgroundColor:"#eee",weatherCardColor:"#666",weatherCardHighLight:"#555"},dark:{weatherCardBackgroundColor:"#666",weatherCardColor:"#ddd",weatherCardHighLight:"#fff"}}},36:function(e,t,n){e.exports=n(49)},47:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(34),c=n.n(o),u=n(21),i=n.n(u),l=n(10),f=n(28),d=n(14),s=n(1),h=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,100))})),m=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,99))})),p=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(9),n.e(7)]).then(n.bind(null,98))})),b=Object(r.lazy)((function(){return n.e(11).then(n.bind(null,101))})),j=Object(r.lazy)((function(){return Promise.all([n.e(8),n.e(10)]).then(n.bind(null,102))})),w=function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(s.c,null,a.a.createElement(s.a,{exact:!0,path:"/",component:h}),a.a.createElement(s.a,{path:"/find-activity",component:m}),a.a.createElement(s.a,{path:"/activity",component:p}),a.a.createElement(s.a,{path:"/new-activity",component:b}),a.a.createElement(s.a,{path:"/login-page",component:j})))},O=n(19),y=(n(47),n(29)),g=n(33),F=n(24),v=n(16),E=n(8),C=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(r.useCallback)(Object(f.a)(i.a.mark((function e(){var t,n,r,a,c,u,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(E.e)(),Object(E.f)(),Object(E.g)(),Object(E.d)(),Object(E.b)()]);case 2:t=e.sent,n=Object(d.a)(t,5),r=n[0],a=n[1],c=n[2],u=n[3],f=n[4],o([].concat(Object(l.a)(r),Object(l.a)(a),Object(l.a)(c),Object(l.a)(u),Object(l.a)(f)));case 10:case"end":return e.stop()}}),e)}))),[]);Object(r.useEffect)((function(){c()}),[c]);var u=Object(r.useState)(null),s=Object(d.a)(u,2),h=s[0],m=s[1];return Object(r.useEffect)((function(){null!==Object(v.a)()&&Object(E.h)().then((function(e){1===e.ok&&m(e.data)}))}),[]),a.a.createElement(F.a.Provider,{value:{activityData:n,setActivityData:o,user:h,setUser:m}},a.a.createElement(y.a,{theme:g.a.main},a.a.createElement(O.a,null,a.a.createElement(w,null))))};c.a.render(a.a.createElement(C,null),document.getElementById("root"))},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return h}));var r=n(16),a=function(){return fetch("".concat("https://opendata.cwb.gov.tw/api/v1/rest/datastore/O-A0003-001?Authorization","=").concat("CWB-15DFF2FC-FFFB-49E9-BF7F-EBB9164F4B47","&locationName=").concat("\u81fa\u5317")).then((function(e){return e.json()})).then((function(e){var t=e.records.location[0],n=t.weatherElement.reduce((function(e,t){return["WDSD","TEMP"].includes(t.elementName)&&(e[t.elementName]=t.elementValue),e}),{});return{observationTime:t.time.obsTime,locationName:t.locationName,temperature:n.TEMP,windSpeed:n.WDSD}}))},o=function(){return fetch("".concat("https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization","=").concat("CWB-15DFF2FC-FFFB-49E9-BF7F-EBB9164F4B47","&locationName=").concat("\u81fa\u5317\u5e02")).then((function(e){return e.json()})).then((function(e){var t=e.records.location[0].weatherElement.reduce((function(e,t){return["Wx","PoP","CI","MinT","MaxT"].includes(t.elementName)&&(e[t.elementName]=t.time[0].parameter),e}),{});return{description:t.Wx.parameterName,weatherCode:t.Wx.parameterValue,rainPossibility:t.PoP.parameterName,comfortability:t.CI.parameterName,minTemperature:t.MinT.parameterName,maxTemperature:t.MaxT.parameterName}}))},c=function(){return fetch("".concat("https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=6")).then((function(e){return e.json()})).then((function(e){return e}))},u=function(){return fetch("".concat("https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=4")).then((function(e){return e.json()})).then((function(e){return e}))},i=function(){return fetch("".concat("https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=8")).then((function(e){return e.json()})).then((function(e){return e}))},l=function(){return fetch("".concat("https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=1")).then((function(e){return e.json()})).then((function(e){return e}))},f=function(){return fetch("".concat("https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=7")).then((function(e){return e.json()})).then((function(e){return e}))},d="https://student-json-api.lidemy.me",s=function(e,t){return fetch("".concat(d,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()}))},h=function(){var e=Object(r.a)();return fetch("".concat(d,"/me"),{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()}))}}},[[36,3,4]]]);
//# sourceMappingURL=main.d660a87c.chunk.js.map