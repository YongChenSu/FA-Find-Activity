{"version":3,"sources":["WebAPI.js","contexts.js","styles/base/variable.js","routes/index.js","App.js","index.js"],"names":["fetchCurrentWeatherData","fetch","then","response","json","data","locationData","records","location","weatherElements","weatherElement","reduce","neededElements","item","includes","elementName","elementValue","observationTime","time","obsTime","locationName","temperature","TEMP","windSpeed","WDSD","fetchForecastData","parameter","description","Wx","parameterName","weatherCode","parameterValue","rainPossibility","PoP","comfortability","CI","minTemperature","MinT","maxTemperature","MaxT","fetchExhibitionData","fetchParentChildActivityData","fetchMoviesData","fetchMusicPerformanceData","fetchLectureData","AuthContext","createContext","theme","main","$colorWhite","$colorRed","$colorLightGreen","$colorGreen","$colorLightOrange","$colorYellow","$colorGrey","$colorLightGrey","$borderRadius","$fontFamily","weatherCardBackgroundColor","weatherCardColor","weatherCardHighLight","dark","Home","lazy","FindActivity","Activity","NewActivity","Routes","fallback","exact","path","component","App","useState","activityData","setActivityData","fetchActivityData","useCallback","a","prevState","Promise","all","exhibitionData","parentChildActivityData","moviesData","musicPerformanceData","lectureData","useEffect","Provider","value","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.571065a9.chunk.js","sourcesContent":["const AUTHORIZATION_KEY = \"CWB-15DFF2FC-FFFB-49E9-BF7F-EBB9164F4B47\";\nconst CURRENT_WEATHER_BASE_URL =\n  \"https://opendata.cwb.gov.tw/api/v1/rest/datastore/O-A0003-001?Authorization\";\nconst FORECAST_BASE_URL =\n  \"https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization\";\nconst LOCATION_NAME_FORECAST = \"臺北市\";\nconst LOCATION_NAME = \"臺北\";\n\nconst EXHIBITION_BASE_URL =\n  \"https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=6\";\nconst PARENT_CHILD_BASE_URL =\n  \"https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=4\";\nconst MOVIES_BASE_URL =\n  \"https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=8\";\nconst MUSIC_PERFORMANCE_BASE_URL =\n  \"https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=1\";\nconst LECTURE_BASE_URL =\n  \"https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=7\";\nconst VILLAGE_FOOD_BASE_URL =\n  \"https://data.coa.gov.tw/Service/OpenData/ODwsv/ODwsvTravelFood.aspx\";\n\nexport const fetchCurrentWeatherData = () => {\n  return fetch(\n    `${CURRENT_WEATHER_BASE_URL}=${AUTHORIZATION_KEY}&locationName=${LOCATION_NAME}`\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      const locationData = data.records.location[0];\n      const weatherElements = locationData.weatherElement.reduce(\n        (neededElements, item) => {\n          if ([\"WDSD\", \"TEMP\"].includes(item.elementName)) {\n            neededElements[item.elementName] = item.elementValue;\n          }\n          return neededElements;\n        },\n        {}\n      );\n\n      return {\n        observationTime: locationData.time.obsTime,\n        locationName: locationData.locationName,\n        temperature: weatherElements.TEMP,\n        windSpeed: weatherElements.WDSD,\n      };\n    });\n};\n\nexport const fetchForecastData = () => {\n  return fetch(\n    `${FORECAST_BASE_URL}=${AUTHORIZATION_KEY}&locationName=${LOCATION_NAME_FORECAST}`\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      const locationData = data.records.location[0];\n      const weatherElements = locationData.weatherElement.reduce(\n        (neededElements, item) => {\n          if ([\"Wx\", \"PoP\", \"CI\", \"MinT\", \"MaxT\"].includes(item.elementName)) {\n            neededElements[item.elementName] = item.time[0].parameter;\n          }\n          return neededElements;\n        },\n        {}\n      );\n\n      return {\n        description: weatherElements.Wx.parameterName,\n        weatherCode: weatherElements.Wx.parameterValue,\n        rainPossibility: weatherElements.PoP.parameterName,\n        comfortability: weatherElements.CI.parameterName,\n        minTemperature: weatherElements.MinT.parameterName,\n        maxTemperature: weatherElements.MaxT.parameterName,\n      };\n    });\n};\n\nexport const fetchExhibitionData = () => {\n  return fetch(`${EXHIBITION_BASE_URL}`)\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    });\n};\n\nexport const fetchParentChildActivityData = () => {\n  return fetch(`${PARENT_CHILD_BASE_URL}`)\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    });\n};\n\nexport const fetchMoviesData = () => {\n  return fetch(`${MOVIES_BASE_URL}`)\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    });\n};\n\nexport const fetchMusicPerformanceData = () => {\n  return fetch(`${MUSIC_PERFORMANCE_BASE_URL}`)\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    });\n};\n\nexport const fetchLectureData = () => {\n  return fetch(`${LECTURE_BASE_URL}`)\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    });\n};\n\nexport const fetchVillageFoodData = () => {\n  return fetch(`${VILLAGE_FOOD_BASE_URL}`)\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    });\n};\n","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext(null);\r\n","const theme = {\r\n  main: {\r\n    $colorWhite: \"#f8f8f8\",\r\n    $colorRed: \"#e6756B\",\r\n    $colorLightGreen: \"#c4c88f\",\r\n    $colorGreen: \"#8b8974\",\r\n    $colorLightOrange: \"#fae1d2\",\r\n    $colorYellow: \"#F9d893\",\r\n\r\n    $colorGrey: \"#777\",\r\n    $colorLightGrey: \"#aaa\",\r\n\r\n    $borderRadius: \"0.5rem\",\r\n    $fontFamily: \"'Varela Round', 'cwTeXYen'\",\r\n\r\n    weatherCardBackgroundColor: \"#eee\",\r\n    weatherCardColor: \"#666\",\r\n    weatherCardHighLight: \"#555\",\r\n  },\r\n  dark: {\r\n    weatherCardBackgroundColor: \"#666\",\r\n    weatherCardColor: \"#ddd\",\r\n    weatherCardHighLight: \"#fff\",\r\n  },\r\n};\r\n\r\nexport default theme;\r\n","import React, { Suspense, lazy } from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nconst Home = lazy(() => import(\"../pages/Home\"));\nconst FindActivity = lazy(() => import(\"../pages/FindActivity\"));\nconst Activity = lazy(() => import(\"../pages/Activity\"));\nconst NewActivity = lazy(() => import(\"../pages/NewActivity\"));\n\nconst Routes = () => {\n  return (\n    <Suspense fallback={<div></div>}>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/find-activity\" component={FindActivity} />\n        <Route exact path=\"/activity\" component={Activity} />\n        <Route path=\"/new-activity\" component={NewActivity} />\n      </Switch>\n    </Suspense>\n  );\n};\n\nexport default Routes;\n","import React, { Component, useState, useEffect, useCallback } from \"react\";\nimport Routes from \"./routes\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport \"./styles/main.sass\";\nimport { ThemeProvider } from \"emotion-theming\";\nimport theme from \"./styles/base/variable\";\nimport { AuthContext } from \"../src/contexts\";\nimport {\n  fetchExhibitionData,\n  fetchParentChildActivityData,\n  fetchMoviesData,\n  fetchMusicPerformanceData,\n  fetchLectureData,\n  fetchVillageFoodData,\n} from \"../src/WebAPI\";\n\nconst App = () => {\n  const [activityData, setActivityData] = useState({});\n  const fetchActivityData = useCallback(async () => {\n    setActivityData((prevState) => ({\n      ...prevState,\n    }));\n\n    const [\n      exhibitionData,\n      parentChildActivityData,\n      moviesData,\n      musicPerformanceData,\n      lectureData,\n      // villageFoodData,\n    ] = await Promise.all([\n      fetchExhibitionData(),\n      fetchParentChildActivityData(),\n      fetchMoviesData(),\n      fetchMusicPerformanceData(),\n      fetchLectureData(),\n      // fetchVillageFoodData(),\n    ]);\n\n    setActivityData((prevState) => ({\n      ...exhibitionData,\n      ...parentChildActivityData,\n      ...moviesData,\n      ...musicPerformanceData,\n      ...lectureData,\n      // ...villageFoodData,\n    }));\n  }, []);\n\n  useEffect(() => {\n    fetchActivityData();\n  }, [fetchActivityData]);\n\n  return (\n    <AuthContext.Provider value={{ activityData, setActivityData }}>\n      <ThemeProvider theme={theme.main}>\n        <Router>\n          <Routes />\n        </Router>\n      </ThemeProvider>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}